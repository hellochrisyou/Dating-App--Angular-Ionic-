<!-- <ion-card *ngFor="let message of userMessages;let i = index">
  <ion-card-header>
    <ion-card-subtitle><span>From: {{message.payload.doc.data().messages[0].sender}}</span>
    </ion-card-subtitle>
    <ion-card-title>To: {{message.payload.doc.data().messages[0].receiver}}</ion-card-title>
  </ion-card-header>

  <ion-card-content>
    <ion-item>
      <ion-icon name="pin" slot="start"></ion-icon>
      <ion-label>Date: {{message.payload.doc.data().messages[0].date}}</ion-label>
    </ion-item>
    {{message.payload.doc.data().messages[0].message}}
  </ion-card-content>
</ion-card>

<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Friends</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content fullscreen="true">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/inbox">Back</ion-back-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  <ion-refresher slot="fixed" (ionRefresh)="reloadItems($event)">
    <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh" refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>


  <ion-card class="speaker-card">
    <ion-card-header>
      <ion-item detail="false" lines="none" class="friend-item">

        <ion-item lines="none">
          <ion-avatar slot="start">
            <img [src]="senderPhotoURL">
          </ion-avatar>
          <ion-label>
            <h1>CHAT HISTORY</h1>
            <p>{{receiver}}</p>
          </ion-label>
        </ion-item>
      </ion-item>
      <ion-item lines="none">
        <ion-button shape="round" fill="outline" color="warning" (click)="sendMessage(i)">
          Message
        </ion-button>
      </ion-item>
      <ng-container *ngFor="let message of messages;let i = index">
        <div class="container">
          <ion-item lines="none" (click)="optionActionSheet(i)" matTooltip="Click to open options">
            <ng-container *ngIf="message.messages[0].sender===myEmail">
              <div class="chat-bubble">
                <p class="over-flow chat-message">
                  <i>{{message.messages[0].date | date}}</i>
                  <br>
                  {{message.messages[0].message}}
                </p>
              </div>
            </ng-container>
            <ng-container *ngIf="message.messages[0].sender===otherUser.payload.doc.data().email">
              <div class="chat-bubble mine">
                <p class="over-flow chat-message">
                  <i>{{message.messages[0].date| date}}</i>
                  <br>
                  {{message.messages[0].message}}
                </p>
              </div>
            </ng-container>
          </ion-item>
        </div>
      </ng-container>

    </ion-card-header>
  </ion-card>

</ion-content>